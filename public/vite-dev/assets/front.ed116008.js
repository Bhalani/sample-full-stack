import{d as L,b as g,_ as x,o as a,c as r,a as e,t as c,e as u,w as h,v as m,f,g as R,F as D,r as w,P as E,m as T,h as y,i as p,l as b,n as V,p as q,q as I,E as j,s as k,j as C,y as B,z as N,A as P,B as A,C as U,x as O}from"./index.63b17699.js";const F=L("session",{state:()=>({loggedIn:!!g.get("session_token"),user:null,error:null}),actions:{async getUser(o){return this.axios.post("/session",{token:o}).then(t=>{t.data.error?this.error=t.data.error:(this.user=t.data.user,localStorage.setItem("userName",`${this.user.first_name} ${this.user.last_name}`))})},async update(o){return this.axios.put(`/users/${this.user.id}`,{threshold:o}).then(()=>{})}}}),M={setup(){return{store:F()}},data:function(){return{token:null}},beforeCreate(){g.get("session_token")&&this.$router.push({name:"root_path"})},methods:{login(){this.$api.call(this.store.getUser(this.token)).then(()=>{this.store.user&&(g.set("session_token",this.token),this.$router.go(this.$router.currentRoute))})}}},z={key:0},H={class:"red-text"},Y={class:"row"},W={class:"col-xs-24 col-md-10 mx0auto"},G=e("div",{class:"row"},[e("div",{class:"col-xs-24 col-md-5"},[e("input",{type:"submit",role:"button",class:"button button-primary",value:"Login"})])],-1);function J(o,t,v,l,n,i){return a(),r("section",null,[e("form",{onSubmit:t[1]||(t[1]=f((...s)=>i.login&&i.login(...s),["prevent"])),ref:"filters","accept-charset":"UTF-8",class:"card container"},[l.store.error?(a(),r("div",z,[e("h4",H,c(l.store.error),1)])):u("v-if",!0),e("div",Y,[e("div",W,[e("label",null,c(o.$t("login.token")),1),h(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>o.token=s),placeholder:"token"},null,512),[[m,o.token]])])]),G],544)])}var K=x(M,[["render",J],["__file","/Users/hiren/rr_pros/rails-vue-demo-app/app/javascript/views/login/index.vue"]]);const Q={props:["store"],data(){return{date:new Date,time:new Date,food:null,calories:0,customFood:null}},beforeCreate(){this.$api.call(this.store.getFood()).then(()=>{console.log(this.store.foods)})},methods:{fetchEntries(){},addRecord(){const o={user_calories:{consume_at:new Date(`${this.date} ${this.time}`),calories:this.calories,food_id:this.food,custom_food:this.customFood}};this.$api.call(this.store.create(o)).then(()=>{this.store.creationError||this.backToList()})},selectCalories(o){this.calories=parseInt(o.target.options[o.target.options.selectedIndex].text.split(" - ")[1]),this.food==="-1"?this.$refs.customFood.classList.remove("hidden"):this.$refs.customFood.classList.add("hidden")},backToList(){this.$emit("back")}}},X={class:"container"},Z={class:"row"},ee=e("div",{class:"col-xs-24"}," Add Food Consumtion Entry ",-1),te={class:"col-xs-24"},se={class:"col-xs-24"},oe=e("h5",null,"Filter by Date range",-1),ie={class:"row"},ne={class:"col-xs-12 col-md-8 mx0auto"},ae=e("label",null,"Date of consumtion",-1),re={class:"col-xs-12 col-md-8 mx0auto"},le=e("label",null,"Time of consumtion",-1),de={class:"col-xs-12 col-md-8 mx0auto"},ce=e("label",null,"Food",-1),ue=["value"],he={class:"col-xs-12 col-md-8 mx0auto hidden",ref:"customFood"},_e=e("label",null,"Other Food",-1),me=["required"],pe={class:"col-xs-12 col-md-8 mx0auto"},ve=e("label",null,"Daily Calorie Limit",-1),fe=e("div",{class:"col-xs-24 col-md-5"},[e("input",{type:"submit",role:"button",class:"button button-primary",value:"Save"})],-1);function xe(o,t,v,l,n,i){return a(),r("section",X,[e("div",Z,[ee,e("div",te,[e("a",{href:"javascript:;",onClick:t[0]||(t[0]=f((...s)=>i.backToList&&i.backToList(...s),["prevent"]))}," < Back to List ")]),e("div",se,[e("form",{onSubmit:t[7]||(t[7]=f((...s)=>i.addRecord&&i.addRecord(...s),["prevent"])),ref:"filters","accept-charset":"UTF-8",class:"card container"},[oe,e("div",ie,[e("div",ne,[ae,h(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=s=>n.date=s),required:"",placeholder:"Date"},null,512),[[m,n.date]])]),e("div",re,[le,h(e("input",{type:"time","onUpdate:modelValue":t[2]||(t[2]=s=>n.time=s),required:"",placeholder:"Time"},null,512),[[m,n.time]])]),e("div",de,[ce,h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.food=s),onChange:t[4]||(t[4]=s=>i.selectCalories(s)),required:""},[(a(!0),r(D,null,w(v.store.foods,s=>(a(),r("option",{key:s.id,value:s.id},c(s.name)+" - "+c(s.calories),9,ue))),128)),(a(),r("option",{value:"-1",key:o.custom},"Other"))],544),[[R,n.food]])]),e("div",he,[_e,h(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>n.customFood=s),required:o.addingCustomFood,placeholder:"Food"},null,8,me),[[m,n.customFood]])],512),e("div",pe,[ve,h(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=s=>n.calories=s),min:"50",required:"",placeholder:"Calories"},null,512),[[m,n.calories]])]),fe])],544)])])])}var ge=x(Q,[["render",xe],["__file","/Users/hiren/rr_pros/rails-vue-demo-app/app/javascript/views/food_entries/_newFoodEntry.vue"]]);const ye={data(){return{startDate:null,endDate:null,isLoading:!0,showingFoodEntryForm:!1}},components:{pagination:E,"new-food-entry":ge},setup(){return{store:T()}},beforeCreate(){this.$api.call(this.store.index()).then(()=>{this.isLoading=!1})},methods:{fetchEntries(){this.$api.call(this.store.index()).then(()=>{this.isLoading=!1})},deleteRecord(o,t){this.$api.call(this.store.destroy(t))},updateRecord(o,t){this.$api.call(this.store.update(t,{user_calories:{is_cheat_food:o.target.value}})).then(()=>{this.fetchEntries()})},filter(){this.$api.call(this.store.index({start_date:this.startDate,end_date:this.endDate}))},addRecord(){this.showingFoodEntryForm=!0},showList(){this.fetchEntries(),this.showingFoodEntryForm=!1}}},be={class:"container"},$e={key:0},ke={class:"row"},Ce=e("div",{class:"col-xs-12"},[e("h3",null,"Consumed Food Records")],-1),De={class:"col-xs-12"},we={key:0,class:"row"},Fe={class:"col-xs-12"},Le=b(" Consumtion Today: "),Ee={key:0,class:"col-xs-12 red-text"},Ue={class:"col-xs-24"},Se=e("h5",null,"Filter by Date range",-1),Re={class:"row"},Te={class:"col-xs-12 col-md-8 mx0auto"},Ve=e("label",null,"Daily Calorie Limit",-1),qe=["required","max"],Ie={class:"col-xs-12 col-md-8 mx0auto"},je=e("label",null,"Daily Calorie Limit",-1),Be=["required","min"],Ne=e("div",{class:"col-xs-24 col-md-5"},[e("input",{type:"submit",role:"button",class:"button button-primary",value:"Save"})],-1),Pe={class:"col-xs-24"},Ae=e("thead",null,[e("tr",null,[e("th",null," Food "),e("th",null," Calories "),e("th",null," Consumed at "),e("th",null," Cheat Food? "),e("th")])],-1),Oe=["id","value","onUpdate:modelValue","onChange"],Me=["onClick"],ze={key:1};function He(o,t,v,l,n,i){const s=y("pagination"),_=y("new-food-entry");return a(),r("section",be,[n.showingFoodEntryForm?u("v-if",!0):(a(),r("div",$e,[e("div",ke,[Ce,e("div",De,[e("button",{onClick:t[0]||(t[0]=(...d)=>i.addRecord&&i.addRecord(...d))},"+ Add Food Consumtion Entry")])]),n.isLoading?u("v-if",!0):(a(),r("div",we,[e("div",Fe,[Le,e("h5",null,c(l.store.consumed_calories_today)+" | "+c(l.store.threshold),1)]),l.store.consumed_calories_today>=l.store.threshold?(a(),r("div",Ee," You have reached the daily limit today. ")):u("v-if",!0),e("div",Ue,[e("form",{onSubmit:t[3]||(t[3]=f((...d)=>i.filter&&i.filter(...d),["prevent"])),ref:"filters","accept-charset":"UTF-8",class:"card container"},[Se,e("div",Re,[e("div",Te,[Ve,h(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=d=>n.startDate=d),required:!!n.endDate,max:n.endDate,placeholder:"Start Date"},null,8,qe),[[m,n.startDate]])]),e("div",Ie,[je,h(e("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=d=>n.endDate=d),required:!!n.startDate,min:n.startDate,placeholder:"End Date"},null,8,Be),[[m,n.endDate]])]),Ne])],544)]),e("table",Pe,[Ae,e("tbody",null,[(a(!0),r(D,null,w(l.store.foodEntries,d=>(a(),r("tr",{key:d.id,class:"col-xs-24 col-md-6 card"},[e("td",null,c(d.name),1),e("td",null,c(d.calories),1),e("td",null,c(d.consume_at),1),e("td",null,[h(e("input",{type:"checkbox",id:"cheat-"+d.id,value:d.is_cheat_food,"onUpdate:modelValue":$=>d.is_cheat_food=$,onChange:$=>i.updateRecord($,d.id)},null,40,Oe),[[V,d.is_cheat_food]])]),e("td",null,[e("a",{href:"javascript:;",onClick:f($=>i.deleteRecord($,d.id),["prevent"])},"Delete",8,Me)])]))),128))])]),p(s,{store:l.store,callPageCallback:i.fetchEntries},null,8,["store","callPageCallback"])]))])),n.showingFoodEntryForm?(a(),r("div",ze,[p(_,{store:l.store,onBack:i.showList},null,8,["store","onBack"])])):u("v-if",!0)])}var Ye=x(ye,[["render",He],["__file","/Users/hiren/rr_pros/rails-vue-demo-app/app/javascript/views/food_entries/index.vue"]]);const We={data(){return{isLoading:!0,threshold:0}},setup(){return{store:F()}},beforeCreate(){this.$api.call(this.store.getUser()).then(()=>{this.isLoading=!1,this.threshold=this.store.user.daily_calorie_limit})},methods:{update(){this.$api.call(this.store.update(this.threshold)).then(()=>{this.$refs.saveBtn.value="Saved"})}},watch:{threshold:function(o,t){t!=0&&(this.$refs.saveBtn.value="Save")}}},Ge={class:"container"},Je=e("h1",null,"Profile",-1),Ke={key:0},Qe=b(" Name: "),Xe=b(" Email: "),Ze={class:"row"},et={class:"col-xs-24 col-md-10 mx0auto"},tt=e("label",null,"Daily Calorie Limit",-1),st={class:"row"},ot={class:"col-xs-24 col-md-5"},it={type:"submit",role:"button",class:"button button-primary",value:"Save",ref:"saveBtn"};function nt(o,t,v,l,n,i){return a(),r("section",Ge,[Je,n.isLoading?u("v-if",!0):(a(),r("div",Ke,[e("ul",null,[e("li",null,[Qe,e("h4",null,c(l.store.user.first_name)+" "+c(l.store.user.last_name),1)]),e("li",null,[Xe,e("h4",null,c(l.store.user.email),1)]),e("li",null,[e("form",{onSubmit:t[1]||(t[1]=f((...s)=>i.update&&i.update(...s),["prevent"])),ref:"filters","accept-charset":"UTF-8",class:"card container"},[e("div",Ze,[e("div",et,[tt,h(e("input",{type:"number",min:"500",required:"","onUpdate:modelValue":t[0]||(t[0]=s=>n.threshold=s),placeholder:"Daily Calorie Limit"},null,512),[[m,n.threshold]])])]),e("div",st,[e("div",ot,[e("input",it,null,512)])])],544)])])]))])}var at=x(We,[["render",nt],["__file","/Users/hiren/rr_pros/rails-vue-demo-app/app/javascript/views/profile/index.vue"]]);const rt=L("limit_exceeded",{state:()=>({dailyExceededRecords:[],pagination:{},page:1,threshold:0}),actions:{async index(o={}){return this.axios.get("/exceeded_calories",{params:Object.assign(o,{page:this.page})}).then(t=>{console.log(t.data),this.dailyExceededRecords=t.data.exceeded_records,this.threshold=t.data.daily_calorie_limit,this.pagination=t.data.pagination})}}}),lt={data(){return{startDate:null,endDate:null,isLoading:!0}},components:{pagination:E},setup(){return{store:rt()}},beforeCreate(){this.$api.call(this.store.index()).then(()=>{this.isLoading=!1})},methods:{fetchEntries(){this.$api.call(this.store.index()).then(()=>{this.isLoading=!1})}}},dt={class:"container"},ct=e("h3",null,"Days exceeded daily calorie limit",-1),ut={key:0,class:"row"},ht={class:"col-xs-24 flex"},_t=e("span",{class:"left"},"Daily Limit: ",-1),mt={class:"col-xs-24"},pt=e("thead",null,[e("tr",null,[e("th",null," Consumed Calories "),e("th",null," Date ")])],-1);function vt(o,t,v,l,n,i){const s=y("pagination");return a(),r("section",dt,[ct,n.isLoading?u("v-if",!0):(a(),r("div",ut,[u(` <div class="col-xs-12">
        Consumtion Today: <h5>{{store.consumed_calories_today}} | {{store.threshold}}</h5>
      </div>

      <div class="col-xs-12 red-text" v-if="store.consumed_calories_today >= store.threshold">
        You have reached the daily limit today.
      </div> `),u(` <div class="col-xs-24">
        <form @submit.prevent="filter" ref="filters" accept-charset="UTF-8" class="card container">
          <h5>Filter by Date range</h5>
          <div class="row">
            <div class="col-xs-12 col-md-8 mx0auto">
              <label>Daily Calorie Limit</label>
              <input type="date" v-model="startDate" :required="!!endDate" :max="endDate" placeholder="Start Date">
            </div>

            <div class="col-xs-12 col-md-8 mx0auto">
              <label>Daily Calorie Limit</label>
              <input type="date" v-model="endDate" :required="!!startDate" :min="startDate" placeholder="End Date">
            </div>

            <div class="col-xs-24 col-md-5">
              <input type="submit" role="button" class="button button-primary" value="Save">
            </div>
          </div>
        </form>
      </div> `),e("div",ht,[_t,e("h5",null,c(l.store.threshold),1)]),e("table",mt,[pt,e("tbody",null,[(a(!0),r(D,null,w(l.store.dailyExceededRecords,_=>(a(),r("tr",{key:_.id,class:"col-xs-24 col-md-6 card"},[e("td",null,c(_.total_calories),1),e("td",null,c(_.consume_date),1)]))),128))])]),p(s,{store:l.store,callPageCallback:i.fetchEntries},null,8,["store","callPageCallback"])]))])}var ft=x(lt,[["render",vt],["__file","/Users/hiren/rr_pros/rails-vue-demo-app/app/javascript/views/limit_exceeded/index.vue"]]);const xt=q({history:I(`/${I18n.prefix}`),routes:[{path:"/",component:Ye,name:"root_path"},{path:"/limit_exceeded",component:ft,name:"limit_exceeded_path"},{path:"/profile",component:at,name:"profile_path"},{path:"/login",component:K,name:"login_path"},{path:"/404",component:j},{path:"/:catchAll(.*)",redirect:"/404"}]}),gt={setup(){return{store:F()}},methods:{activeOn(o){return o.includes(this.$route.name)?"active":""},logout(){g.remove("session_token"),this.$router.go(this.$router.currentRoute)}},computed:{isLoggedIn(){return!!g.get("session_token")},userName(){return localStorage.getItem("userName")}}},yt={class:"top-nav"},bt={class:"container"},$t={class:"row"},kt={class:"col-md-16 col-lg-21"},Ct={key:0},Dt={key:0},wt=b("Home"),Ft=b("Exceeded Daily Limit"),Lt=b("Profile");function Et(o,t,v,l,n,i){const s=y("router-link");return a(),r("section",yt,[e("div",bt,[e("div",$t,[e("div",kt,[i.isLoggedIn?(a(),r("nav",Ct,[e("ul",null,[i.userName?(a(),r("li",Dt,c(i.userName),1)):u("v-if",!0),e("li",{class:k(i.activeOn(["root_path"]))},[p(s,{to:"/"},{default:C(()=>[wt]),_:1})],2),e("li",{class:k(i.activeOn(["limit_exceeded_path"]))},[p(s,{to:"/limit_exceeded"},{default:C(()=>[Ft]),_:1})],2),e("li",{class:k(i.activeOn(["profile_page"]))},[p(s,{to:"/profile"},{default:C(()=>[Lt]),_:1})],2),e("li",null,[e("a",{onClick:t[0]||(t[0]=f((..._)=>i.logout&&i.logout(..._),["prevent"]))},c(o.$t("nav.logout")),1)])])])):u("v-if",!0)])])])])}var Ut=x(gt,[["render",Et],["__file","/Users/hiren/rr_pros/rails-vue-demo-app/app/javascript/views/shared/_nav.vue"]]);const St={data(){return{loggedIn:!1}},components:{"nav-bar":Ut},beforeCreate(){!g.get("session_token")&&this.$route.name!=="login_path"&&this.$router.push({name:"login_path"})}},Rt={class:"container"};function Tt(o,t,v,l,n,i){const s=y("nav-bar"),_=y("router-view");return a(),r("div",null,[p(s),e("div",Rt,[p(_)])])}var Vt=x(St,[["render",Tt],["__file","/Users/hiren/rr_pros/rails-vue-demo-app/app/javascript/views/shared/layout.vue"]]);const qt=B(Vt),It=N({channel:"ChatChannel"}),jt=P({handler:U,namespace:""}),S=A();S.use(({store:o})=>{o.axios=U});const Bt=O.exports.createI18n({locale:"current",messages:translations});qt.use(xt).use(S).use(Bt).use(jt).use(It).mount("#app");
